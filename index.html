<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Imperio de la Conexi√≥n</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/animations.css">
	<link rel="stylesheet" href="css/icons.css">
	<link rel="stylesheet" id="era-style" href="css/eras/era-1g.css"> 
	<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js"></script>
</head>
<body>
    <!-- PANTALLA DE CARGA -->
    <div id="loading-screen" class="full-screen">
		<div class="loading-content">
			<!-- T√≠tulo del juego para reforzar la marca -->
			<h1 class="loading-title">Imperio de la Conexi√≥n</h1>
        
			<!-- Contenedor de la barra de progreso -->
			<div class="progress-bar-container">
				<div id="progress-bar" class="progress-bar-inner"></div>
			</div>
        
			<!-- Texto que cambiar√° din√°micamente -->
			<p id="loading-status-text" class="loading-status">Inicializando sistema...</p>
		</div>
	</div>
	
	<!-- PANTALLA DE ANIMACI√ìN DE INTRODUCCI√ìN -->
	<div id="intro-terminal-screen" class="full-screen hidden">
		<div id="intro-terminal-content">
			<!-- El contenido de la terminal se generar√° aqu√≠ con JS -->
		</div>
		<button id="skip-intro-button" class="hidden">Omitir >></button>
	</div>

    <!-- PANTALLA "TOCA PARA EMPEZAR" -->
    <div id="tap-to-start-screen" class="full-screen menu-background hidden">
        <div class="title-content">
            <h1>Imperio de la Conexi√≥n</h1>
            <p class="blink">Toca para empezar</p>
        </div>
    </div>

    <!-- MEN√ö PRINCIPAL -->
    <div id="main-menu-screen" class="full-screen menu-background hidden">
        <nav class="main-menu">
            <button id="play-button" class="menu-button">Jugar</button>
            <button id="story-button" class="menu-button">Historia</button>
            <button id="options-button-menu" class="menu-button">Opciones</button>
            <button id="credits-button" class="menu-button">Cr√©ditos</button>
        </nav>
    </div>

    <!-- PANTALLA DE HISTORIA -->
	<div id="story-screen" class="full-screen menu-background hidden">
		<div class="panel story-panel">
			<!-- Contenido din√°mico de la tarjeta de historia -->
			<div id="story-card-container">
				<h2 id="story-era-display"></h2>
				<h3 id="story-title-display"></h3>
				<p id="story-text-display"></p>
			</div>

			<!-- Navegaci√≥n -->
			<div class="story-navigation">
				<button id="story-prev-button" class="story-nav-button">&lt;</button>
				<span id="story-card-indicator">1 / 4</span>
				<button id="story-next-button" class="story-nav-button">&gt;</button>
			</div>

			<button class="back-button story-back-button">Volver</button>
		</div>
	</div>
    
    <!-- PANTALLA DE OPCIONES -->
	<div id="options-screen" class="full-screen menu-background hidden">
		<div class="panel options-panel">
			<h2>Opciones</h2>

			<h3 class="options-header">Sonido</h3>
			<div class="option-item">
				<label for="music-volume">M√∫sica</label>
				<input type="range" id="music-volume" min="0" max="1" step="0.05">
			</div>
			<div class="option-item">
				<label for="sfx-volume">Efectos</label>
				<input type="range" id="sfx-volume" min="0" max="1" step="0.05">
			</div>

			<h3 class="options-header">Jugabilidad</h3>
			<div class="option-item">
				<label for="prestige-confirmation-toggle">Confirmar Relanzamiento</label>
				<label class="toggle-switch">
					<input type="checkbox" id="prestige-confirmation-toggle">
					<span class="slider"></span>
				</label>
			</div>
        
			<h3 class="options-header">Datos de Partida</h3>
			<div class="option-item data-buttons">
				<button id="export-save-button" class="data-button">Exportar</button>
				<button id="import-save-button" class="data-button">Importar</button>
			</div>
			<div class="option-item">
				<button id="reset-save-button" class="danger-button">Borrar Progreso</button>
			</div>
        
			<button class="back-button options-back-button">Volver</button>
		</div>
	</div>

    <!-- PANTALLA DE CR√âDITOS -->
    <div id="credits-screen" class="full-screen menu-background hidden">
		<div class="panel credits-panel">
			<!-- El contenido se generar√° aqu√≠ con JS -->
			<div id="credits-content-container"></div>
		</div>
		<button id="credits-back-button" class="back-button credits-back-button">Volver</button>
	</div>
	
	<!-- PANTALLA DE CINEM√ÅTICA DE ERA -->
    <div id="era-cinematic-screen" class="full-screen hidden">
		<!-- Acto 1: Terminal de la Era 1 -->
		<div id="cinematic-era1-shutdown" class="cinematic-phase"></div>

		<!-- Acto 2: Pantalla de BIOS -->
		<div id="cinematic-bios" class="cinematic-phase hidden"></div>

		<!-- Acto 3: Escritorio de la Era 2 -->
		<div id="cinematic-desktop" class="cinematic-phase hidden">
			<div id="cinematic-welcome-box">
				<!-- Contenido generado por JS -->
			</div>
		</div>
	</div>

    <!-- ===== ESTA ES LA PARTE RESTAURADA ===== -->
    <div id="game-container" class="game-container hidden">

		<!-- (1) BARRA SUPERIOR (Nueva) -->
		<header class="top-bar">
			<div class="resource-display">
				<h1 id="money-display">$0</h1>
				<p id="dps-display">+$0 / seg</p>
			</div>
			<div id="top-shortcut-bar" class="top-shortcut-bar"> <!-- ID y Clase Nuevos -->
				<button id="menu-button-shortcut" class="shortcut-btn"><i class="icon-menu-back"></i></button> 
				<button class="shortcut-btn tab-btn" data-tab="shop-tab"><i class="icon-store"></i></button>
				<button class="shortcut-btn tab-btn" data-tab="achievements-tab"><i class="icon-achievements"></i></button>
				<button class="shortcut-btn tab-btn" data-tab="missions-tab"><i class="icon-missions"></i></button>
			</div>
		</header>

		<!-- (2) CONTENIDO DE LAS PESTA√ëAS (Nuevo) -->
		<main class="tab-content">

			<!-- Pesta√±a Principal (Juego) -->
			<div id="main-tab" class="tab-panel active">
				<div id="active-buffs-container">
					<!-- JavaScript insertar√° los buffs activos aqu√≠ -->
				</div>
				<div id="main-tab-background"></div>
				<div class="terminal-header">
					<p>IDC_OS v1.0 - [Imperio de la Conexi√≥n]</p>
					<p>ESTADO DE LA RED: <span class="status-online blink">EN L√çNEA</span></p>
				</div>
				<div class="prestige-info-top">
					<p id="prestige-points-display">Puntos de Innovaci√≥n: 0 (+0%)</p>
				</div>
				<div id="data-vault-container" class="hidden"> <!-- Empieza oculto -->
					<h4>üè¶ B√≥veda de Datos</h4>
					<div class="vault-progress-bar">
						<div id="vault-progress-fill"></div>
					</div>
					<p id="vault-status-display">Contenido: $0 / $0</p>
					<button id="vault-collect-button" disabled>Recoger</button>
				</div>
				<div class="main-click-area">
					<div id="popup-container">
						<!-- JavaScript pondr√° el pop-up activo aqu√≠ -->
					</div>
					<button id="main-click-button" class="main-click-button">
						<div class="icon">üåê</div>
						<span>Establecer<br>Conexi√≥n</span>
						<small id="dpc-display">Ancho de Banda: +$1/conexi√≥n</small>
					</button>
				</div>
			</div>

			<!-- Pesta√±a Mejoras -->
			<div id="upgrades-tab" class="tab-panel">
				<div id="upgrades-container">
					<!-- Las mejoras se siguen generando aqu√≠ -->
				</div>
			</div>

			<!-- Pesta√±a Evoluci√≥n -->
			<div id="evolution-tab" class="tab-panel">
				<div class="evolution-content">
					<h2>Evoluci√≥n Tecnol√≥gica</h2>
					<div class="current-era">
						<h3>ERA ACTUAL: <span id="current-era-name"></span></h3>
						<p id="current-era-description"></p>
					</div>
					<div id="era-evolution-container">
						<button id="evolve-era-button" class="relaunch-button-styled hidden">
							<!-- El contenido se llenar√° con JS -->
						</button>
						<div id="era-evolution-requirements" class="requirements-list hidden">
							<!-- Los requisitos se generar√°n aqu√≠ con JS -->
						</div>
						<p id="era-evolution-status" class="hidden">
							<!-- El mensaje final tambi√©n estar√° aqu√≠ -->
						</p>
					</div>
					<button id="relaunch-button" class="relaunch-button-styled">Relanzar</button>
				</div>
			</div>
			
			<!-- Pesta√±a Logros -->
			<div id="achievements-tab" class="tab-panel">
				<h2>Logros Desbloqueados</h2>
				<div id="achievements-container" class="scrollable-content">
					<!-- Los logros se generar√°n aqu√≠ con JS -->
				</div>
			</div>

			<!-- Pesta√±a Misiones -->
			<div id="missions-tab" class="tab-panel">
				<h2>Misiones Activas</h2>
				<div id="missions-container" class="scrollable-content">
					<!-- Las misiones se generar√°n aqu√≠ con JS -->
				</div>
			</div>

			<!-- Pesta√±a Tienda -->
			<div id="shop-tab" class="tab-panel">
				<h2>Tienda de Innovaci√≥n</h2>
				<p class="gem-display">Gemas de Innovaci√≥n: <span id="shop-gems-display">0</span> üíé</p>
				<div id="shop-container" class="scrollable-content">
					<!-- Los √≠tems de la tienda se generar√°n aqu√≠ con JS -->
				</div>
			</div>

		</main>

        <div id="popup-templates" style="display: none;">
            <!-- Plantilla 1: Jackpot (Simplificada) -->
			<div id="popup-template-jackpot" class="popup-banner">
    			<span class="popup-icon">üí∞</span>
    			<span class="popup-text">¬°Bot√≠n!</span>
			</div>

			<!-- Plantilla 2: Frenes√≠ de Clics (Simplificada) -->
			<div id="popup-template-clickFrenzy" class="popup-banner">
    			<span class="popup-icon">üñ±Ô∏èüí®</span>
    			<span class="popup-text">¬°Frenes√≠!</span>
			</div>

			<!-- Plantilla 3: Sobrecarga de Red (Simplificada) -->
			<div id="popup-template-dpsOverload" class="popup-banner">
    			<span class="popup-icon">üìà</span>
    			<span class="popup-text">¬°Sobrecarga!</span>
			</div>
        </div>

		<!-- (3) BARRA DE NAVEGACI√ìN INFERIOR (Nueva) -->
		<nav id="game-tab-bar" class="game-tab-bar"> <!-- ID y Clase Nuevos -->
			<button id="upgrades-tab-button" class="tab-btn" data-tab="upgrades-tab"> <!-- Clase Nueva -->
				<i class="icon-upgrades"></i><span>Mejoras</span>
			</button>
			<button class="tab-btn main-nav-button active" data-tab="main-tab"> <!-- Clase Nueva -->
				<i class="icon-main"></i>
			</button>
			<button id="evolution-tab-button" class="tab-btn" data-tab="evolution-tab"> <!-- Clase Nueva -->
				<i class="icon-evolution"></i><span>Evoluci√≥n</span>
			</button>
		</nav>
    
	</div>
	
	<div id="notification-container"></div>

	<script src="js/audio.js"></script>
	<script src="js/dataLogic.js"></script>
	<script src="js/ui.js"></script>
    <script src="js/main.js"></script>
	
	<div id="transition-overlay" class="transition-overlay"></div>
</body>
</html>